{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" type="text/css" href="{% static 'css/search_results.css' %}">
<div>
    <h1>Search results for {{query}}</h1>
    
    <form class="search-container" action="{% url 'search' %}" method="get">
        <input type="text" id="search" name="search" placeholder="Search..." class="search-input">
        <button type="submit" class="search-button">
            <i class="fas fa-search"></i>
        </button>
    </form>
</div>


{% if results %}
<ul class="results-list">
    {% for result in results %}
    <li class="result-item">
        <div class="result-content">
            <div class="result-details">
                <h3>{{ result.smartphone.name }}</h3>
                <p><strong>Brand:</strong> {{ result.smartphone_brand|default:"-" }}</p>
                <p><strong>Color:</strong> {{ result.smartphone_color|default:"-" }}</p>
                <p><strong>Storage:</strong> {{ result.smartphone_storage|default:"-" }} GB</p>
                <p><strong>RAM:</strong> {{ result.smartphone_ram|default:"-" }} GB</p>
                <p><strong>Screen Size:</strong> {{ result.smartphone_screen_size|default:"-" }} inches</p>
                <p><strong>Battery:</strong> {{ result.smartphone_battery|default:"-" }} mAh</p>
            </div>
            <div class="result-store">
                <p><strong>Store:</strong> {{ result.store_name|default:"-" }}</p>
                <p><strong>Price:</strong> ${{ result.price|default:"-" }}</p>
                <p><strong>Condition:</strong> 
                    {% if result.refurbished %}
                        Refurbished
                    {% else %}
                        New
                    {% endif %}
                </p>
                <a href="{{ result.link }}" target="_blank" class="result-link">
                    View on {{ result.store_name|default:"-" }}
                </a>
            </div>
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No results found.</p>
{% endif %}




{% endblock %}